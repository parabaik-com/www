(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[443],{61248:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return P}});var n=t(19612),a=t(59499),s=t(50029),i=t(87794),o=t.n(i),c=t(11163),d=t(86896),u=t(67294),l=t(66415),p=t(84619),h=t(22363),f=t(11631),m=t(88947),g=(t(59944),t(35944)),w=t(20161),Z=t(72234);function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach((function(r){(0,a.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var b=function(){var e=(0,c.useRouter)(),r=(0,u.useState)({password:"",showForm:!0,message:"",error:""}),t=r[0],n=r[1],a=(0,d.Z)(),i=a.formatMessage({id:"signin"}),v=a.formatMessage({id:"description.signin"}),b=t.password,P=t.message,O=(t.showForm,t.error),k=function(){var r=(0,s.Z)(o().mark((function r(a){var s,i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,m.Z)({method:"PUT",url:"/api/user/reset-password",data:{resetPasswordLink:e.query.id,newPassword:b}});case 3:s=r.sent,i=s.message,n(y(y({},t),{},{message:i,showForm:!1})),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),n(y(y({},t),{},{error:r.t0.message}));case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}(),_=function(e){if(e&&!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[#$@!%&*?])[A-Za-z\d#$@!%&*?]{8,20}$/.test(e))return"Password does not meet criteria"},j=function(e){if(b!==e)return"Password does not match!"};(0,g.tZ)(l.ZP,{appearance:"primary",onClick:function(){return e.push("/signin")},children:"Sign In"});return(0,g.tZ)(f.Z,{title:a.formatMessage({id:"resetpassword"}),descriptions:a.formatMessage({id:"description.reset"}),leftDescriptions:v,leftButtonText:i,leftPath:"/signin",children:O?(0,g.tZ)("div",{style:{marginTop:24},children:(0,g.tZ)(Z.Z,{appearance:"error",actions:(0,g.tZ)(Z.o,{onClick:function(){return e.push("/auth/password/forgot")},children:"Go Back"}),children:(0,g.tZ)("p",{children:O})})}):P?(0,g.tZ)("div",{style:{marginTop:24},children:(0,g.tZ)(Z.Z,{appearance:"success",actions:(0,g.tZ)(Z.o,{onClick:function(){return e.push("/signin")},children:"Log In"}),children:(0,g.tZ)("p",{children:P})})}):(0,g.tZ)(p.ZP,{onSubmit:k,children:function(e){var r=e.formProps,s=e.submitting;return(0,g.BX)("form",y(y({},r),{},{children:[(0,g.tZ)(p.gN,{name:"password",label:a.formatMessage({id:"password"}),defaultValue:"",isRequired:!0,validate:_,children:function(e){var r=e.fieldProps,a=e.error,s=e.valid,i=e.meta;return(0,g.BX)(u.Fragment,{children:[(0,g.tZ)(h.Z,y(y({className:w.J,type:"password"},r),{},{onChange:function(e){var a=e.target.value;n(y(y({},t),{},{password:a})),r.onChange(e)}})),a&&!s&&(0,g.tZ)(p.W3,{children:"Password must has at least 8 characters and maximum 20 characters that include at least 1 lowercase character, 1 uppercase character, 1 number, and 1 special character in (!@#$%^&*)."}),a&&(Array.isArray(a)?a.map((function(e){return(0,g.tZ)(p.Bc,{children:e},e)})):(0,g.tZ)(p.Bc,{children:a})),s&&i.dirty?(0,g.tZ)(p.Tg,{children:"Awesome password!"}):null]})}}),(0,g.tZ)(p.gN,{name:"passwordConfirm",label:a.formatMessage({id:"conformpassword"}),defaultValue:"",isRequired:!0,validate:j,children:function(e){var r=e.fieldProps,t=e.error,n=e.valid,a=e.meta;return(0,g.BX)(u.Fragment,{children:[(0,g.tZ)(h.Z,y({className:w.J,type:"password"},r)),t&&(0,g.tZ)(p.Bc,{children:t}),n&&a.dirty?(0,g.tZ)(p.Tg,{children:"Password match!"}):null]})}}),(0,g.tZ)(p.ZL,{children:(0,g.tZ)("div",{style:{width:150,textAlign:"center"},children:(0,g.tZ)(l.fl,{spacing:"large",shouldFitContainer:!0,type:"submit",appearance:"primary",isLoading:s,children:a.formatMessage({id:"changepassword"})})})})]}))}})})};var P=(0,t(20016).Z)((function(){return(0,g.tZ)(n.Z,{children:(0,g.tZ)(b,{})})}))},96497:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/password/reset/[id]",function(){return t(61248)}])}},function(e){e.O(0,[428,244,893,295,832,18,23,631,528,209,774,888,179],(function(){return r=96497,e(e.s=r);var r}));var r=e.O();_N_E=r}]);